<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="../bootstrap.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="../style.css?v=1" />
        <script
            src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"
            integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js"
            integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj"
            crossorigin="anonymous"
        ></script>
        <script src="../jquery-3.4.1.slim.min.js"></script>
        <title>St. Vincent Pallotti College of Engg</title>
    </head>
    <body>
        <header class="vlabs-header sticky-top bg-white">
            <nav class="p-0 navbar navbar-light d-flex align-items-stretch">
                <button
                    type="button"
                    class="navbar-toggler px-4"
                    onclick="toggle()"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="d-flex justify-content-center">
                    <a class="navbar-brand">
                        <img
                            class="vlabs-logo"
                            src="../logo.jpeg"
                            height="80"
                            width="80"
                        />
                    </a>
                </div>
                <div
                    id="headerNavbar"
                    class="d-none border-top flex-grow-1 d-lg-flex align-items-center"
                >
                    <ul
                        class="navbar-nav ml-auto text-center d-flex flex-md-row"
                    >
                        <li class="nav-item px-2 m-1">
                            <a href="../index.html">Home</a>
                        </li>
                        <li class="nav-item px-2 m-1">
                            <a href="../partners.html">Partners</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
        <div
            class="container-fluid flex-fill d-flex flex-column vlabs-page-main"
        >
            <div class="row py-4 px-4 breadcrumbs">
                <a href="#" class="sidebar-a"> Computer Engineering </a>
            </div>
            <div class="row flex-grow-1 d-flex flex-nowrap">
                <div
                    class="modal fade popupmenu"
                    id="popupMenu"
                    tabindex="-1"
                    aria-labelledby="exampleModalLabel"
                    aria-hidden="true"
                >
                    <!-- popup menu -->
                    <div
                        class="modal-dialog modal-dialog-centered modal-dialog-scrollable"
                    >
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">
                                    <a href="#" class="navbar-brand">
                                        <img
                                            src="../logo.jpeg"
                                            alt="vlabs logo"
                                            class="vlabs-logo"
                                        />
                                    </a>
                                </h5>
                                <button
                                    type="button"
                                    class="btn-close align-self-center"
                                    data-bs-dismiss="modal"
                                    aria-label="Close"
                                ></button>
                            </div>
                            <div
                                class="modal-body nav-menu popupMenuItems"
                                id="popupMenuItems"
                            >
                                <div class="d-flex nav-menu-body">
                                    <a href="index.html" class="p-2"> Aim </a>
                                </div>
                                <div class="d-flex nav-menu-body">
                                    <a href="Theory.html" class="p-2">
                                        Theory
                                    </a>
                                </div>
                                <div class="d-flex nav-menu-body">
                                    <a
                                        href="Procedure.html"
                                        class="p-2 current-item"
                                    >
                                        Procedure
                                    </a>
                                </div>
                                <div class="d-flex nav-menu-body">
                                    <a href="#" class="p-2 current-item">
                                        Simulation
                                    </a>
                                </div>
                                <div class="d-flex nav-menu-body">
                                    <a href="assign.html" class="p-2">
                                        Assignment
                                    </a>
                                </div>
                                <div class="d-flex nav-menu-body">
                                    <a href="Crypt.html" class="p-2">
                                        Cryptanalysis
                                    </a>
                                </div>
                                <div class="d-flex nav-menu-body">
                                    <a href="Ref.html" class="p-2">
                                        References
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div
                    class="nav flex-column sidebar nav-menu flex-shrink-0 px-lg-4 align-items-center align-items-lg-start hidden d-none d-lg-flex"
                    id="menu"
                >
                    <div class="d-flex nav-menu-body">
                        <a href="index.html" class="p-2"> Aim </a>
                    </div>
                    <div class="d-flex nav-menu-body">
                        <a href="Theory.html" class="p-2"> Theory </a>
                    </div>
                    <div class="d-flex nav-menu-body">
                        <a href="Procedure.html" class="p-2"> Procedure </a>
                    </div>
                    <div class="d-flex nav-menu-body">
                        <a href="#" class="p-2 current-item"> Simulation </a>
                    </div>
                    <div class="d-flex nav-menu-body">
                        <a href="assign.html" class="p-2"> Assignment </a>
                    </div>
                    <div class="d-flex nav-menu-body">
                        <a href="Crypt.html" class="p-2"> Cryptanalysis </a>
                    </div>
                    <div class="d-flex nav-menu-body">
                        <a href="Ref.html" class="p-2"> References </a>
                    </div>
                </div>

                <div
                    class="vlabs-page-content px-5 pb-4 flex-grow-1 markdown-body"
                >
                    <form action="javascript:calculate()">
                        <label>
                            Enter your list of modulo equations in the form
                            <strong>x = 2 mod 13</strong> on each line. </label
                        ><br />
                        <textarea id="equations" rows="6" cols="50"></textarea>
                        <input type="submit" value="Calculate" /><br /><br />
                        Solution
                        <input type="text" id="solution" size="10" />
                    </form>
                </div>
            </div>
        </div>
        <script>
            function calculate() {
                var equations = document.getElementById("equations").value;
                equations = equations.replace(/ /g, "");
                equations = equations.toLowerCase();
                equations = equations.split(/\n/);
                if (equations[equations.length - 1] == "") {
                    equations.pop();
                }
                var regmod = /mod([0-9]*)/;
                var rega = /=([0-9]*)mod/;
                var N = 1;
                var matches;
                var n = new Array();
                var a = new Array();
                var e = new Array();
                var tmp;
                var x = 0;
                for (var i = 0; i < equations.length; i++) {
                    matches = regmod.exec(equations[i]);
                    N = matches[1] * N;
                    n[i] = matches[1];
                    matches = rega.exec(equations[i]);
                    a[i] = matches[1];
                }

                var max = 1;
                for (var i in n) {
                    max = n[i] * max;
                }

                for (i = 0; i < equations.length; i++) {
                    tmp = extended_gcd(n[i], N / n[i]);
                    e[i] = (tmp[1] * N) / n[i];
                }
                for (i = 0; i < equations.length; i++) {
                    x += e[i] * a[i];
                }
                //var answer = extended_gcd(x,y);
                var solution = document.getElementById("solution");

                if (x >= max) {
                    x = x % max;
                }

                while (x < 0) {
                    x = x + max;
                }

                // testing something
                solution.value = x;
            }

            function extended_gcd(a, b) {
                if (a % b == 0) {
                    var temp = new Array(0, 1);
                    return temp;
                } else {
                    var temp = extended_gcd(b, a % b);
                    var temp2 = new Array(
                        temp[1],
                        temp[0] - temp[1] * Math.floor(a / b)
                    );
                    return temp2;
                }
            }
        </script>
        <script>
            var returnedSuggestion = "";
            let editor, doc, cursor, line, pos;
            document.addEventListener("keydown", (event) => {
                setTimeout(() => {
                    editor = event.target.closest(".CodeMirror");
                    if (editor) {
                        doc = editor.CodeMirror.getDoc();
                        cursor = doc.getCursor();
                        line = doc.getLine(cursor.line);
                        pos = { line: cursor.line, ch: line.length };
                        if (event.key == "Enter") {
                            var query = doc.getRange(
                                { line: Math.max(0, cursor.line - 10), ch: 0 },
                                { line: cursor.line, ch: 0 }
                            );
                            window.postMessage({
                                source: "getSuggestion",
                                payload: { data: query },
                            });
                            //displayGrey(query)
                        } else if (event.key == "ArrowRight") {
                            acceptTab(returnedSuggestion);
                        }
                    }
                }, 0);
            });

            function acceptTab(text) {
                if (suggestionDisplayed) {
                    doc.replaceRange(text, pos);
                    suggestionDisplayed = false;
                }
            }
            function displayGrey(text) {
                var element = document.createElement("span");
                element.innerText = text;
                element.style = "color:grey";
                var lineIndex = pos.line;
                editor
                    .getElementsByClassName("CodeMirror-line")
                    [lineIndex].appendChild(element);
                suggestionDisplayed = true;
            }
            window.addEventListener("message", (event) => {
                if (event.source !== window) return;
                if (event.data.source == "return") {
                    returnedSuggestion = event.data.payload.data;
                    displayGrey(event.data.payload.data);
                }
            });
        </script>

        <script src="../toggleSidebar.js"></script>
    </body>
</html>
